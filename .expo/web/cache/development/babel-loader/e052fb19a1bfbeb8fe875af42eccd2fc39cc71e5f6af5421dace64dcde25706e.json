{"ast":null,"code":"import { useEffect } from 'react';\nexport default function useWebBack(navigation) {\n  useEffect(function () {\n    if (typeof window === 'undefined') return undefined;\n    if (!navigation || !navigation.canGoBack()) return undefined;\n    try {\n      window.history.pushState({\n        app: 'lorebrary'\n      }, '');\n    } catch (e) {}\n    var onPop = function onPop(e) {\n      if (navigation && navigation.canGoBack()) {\n        navigation.goBack();\n      }\n    };\n    window.addEventListener('popstate', onPop);\n    return function () {\n      window.removeEventListener('popstate', onPop);\n      try {\n        window.history.replaceState(null, '');\n      } catch (e) {}\n    };\n  }, [navigation]);\n}","map":{"version":3,"names":["useEffect","useWebBack","navigation","window","undefined","canGoBack","history","pushState","app","e","onPop","goBack","addEventListener","removeEventListener","replaceState"],"sources":["C:/SoftEng/VScode/Javascript/TA/utils/useWebBack.js"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\n// Hook to integrate browser back (popstate) with react-navigation.goBack()\r\n// Usage: call useWebBack(navigation) from a screen component that should\r\n// register a web history entry so the browser back button navigates back.\r\nexport default function useWebBack(navigation) {\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return undefined;\r\n    if (!navigation || !navigation.canGoBack()) return undefined;\r\n\r\n    // push a state entry so browser back triggers popstate\r\n    try {\r\n      window.history.pushState({ app: 'lorebrary' }, '');\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n\r\n    const onPop = (e) => {\r\n      // When popstate occurs, try to navigate back within the app\r\n      if (navigation && navigation.canGoBack()) {\r\n        navigation.goBack();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('popstate', onPop);\r\n\r\n    return () => {\r\n      window.removeEventListener('popstate', onPop);\r\n      // try to clean up the state we pushed\r\n      try {\r\n        // replaceState to avoid leaving an extra empty entry\r\n        window.history.replaceState(null, '');\r\n      } catch (e) {}\r\n    };\r\n  }, [navigation]);\r\n}\r\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AAKjC,eAAe,SAASC,UAAUA,CAACC,UAAU,EAAE;EAC7CF,SAAS,CAAC,YAAM;IACd,IAAI,OAAOG,MAAM,KAAK,WAAW,EAAE,OAAOC,SAAS;IACnD,IAAI,CAACF,UAAU,IAAI,CAACA,UAAU,CAACG,SAAS,CAAC,CAAC,EAAE,OAAOD,SAAS;IAG5D,IAAI;MACFD,MAAM,CAACG,OAAO,CAACC,SAAS,CAAC;QAAEC,GAAG,EAAE;MAAY,CAAC,EAAE,EAAE,CAAC;IACpD,CAAC,CAAC,OAAOC,CAAC,EAAE,CAEZ;IAEA,IAAMC,KAAK,GAAG,SAARA,KAAKA,CAAID,CAAC,EAAK;MAEnB,IAAIP,UAAU,IAAIA,UAAU,CAACG,SAAS,CAAC,CAAC,EAAE;QACxCH,UAAU,CAACS,MAAM,CAAC,CAAC;MACrB;IACF,CAAC;IAEDR,MAAM,CAACS,gBAAgB,CAAC,UAAU,EAAEF,KAAK,CAAC;IAE1C,OAAO,YAAM;MACXP,MAAM,CAACU,mBAAmB,CAAC,UAAU,EAAEH,KAAK,CAAC;MAE7C,IAAI;QAEFP,MAAM,CAACG,OAAO,CAACQ,YAAY,CAAC,IAAI,EAAE,EAAE,CAAC;MACvC,CAAC,CAAC,OAAOL,CAAC,EAAE,CAAC;IACf,CAAC;EACH,CAAC,EAAE,CAACP,UAAU,CAAC,CAAC;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}