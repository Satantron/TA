{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { createClient } from '@supabase/supabase-js';\nvar SUPABASE_URL = process.env.SUPABASE_URL;\nvar SUPABASE_ANON_KEY = process.env.SUPABASE_ANON_KEY;\ntry {\n  var Constants = require('expo-constants').default;\n  var extra = Constants.manifest && Constants.manifest.extra || Constants.expoConfig && Constants.expoConfig.extra;\n  if (extra) {\n    SUPABASE_URL = SUPABASE_URL || extra.SUPABASE_URL;\n    SUPABASE_ANON_KEY = SUPABASE_ANON_KEY || extra.SUPABASE_ANON_KEY;\n  }\n} catch (e) {}\nSUPABASE_URL = SUPABASE_URL || 'https://your-project.supabase.co';\nSUPABASE_ANON_KEY = SUPABASE_ANON_KEY || 'PUBLIC_ANON_KEY';\nexport var supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);\nexport function fetchMyths() {\n  return _fetchMyths.apply(this, arguments);\n}\nfunction _fetchMyths() {\n  _fetchMyths = _asyncToGenerator(function* () {\n    try {\n      var _yield$supabase$from$ = yield supabase.from('myths').select('*').order('id', {\n          ascending: true\n        }),\n        data = _yield$supabase$from$.data,\n        error = _yield$supabase$from$.error;\n      if (error) throw error;\n      return data;\n    } catch (err) {\n      console.warn('Supabase fetch failed, falling back to local seed', (err == null ? void 0 : err.message) || err);\n      return null;\n    }\n  });\n  return _fetchMyths.apply(this, arguments);\n}\nexport function fetchMythsPage() {\n  return _fetchMythsPage.apply(this, arguments);\n}\nfunction _fetchMythsPage() {\n  _fetchMythsPage = _asyncToGenerator(function* () {\n    var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var pageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    var start = (page - 1) * pageSize;\n    var end = start + pageSize - 1;\n    try {\n      var _yield$supabase$from$2 = yield supabase.from('myths').select('*', {\n          count: 'exact'\n        }).order('id', {\n          ascending: true\n        }).range(start, end),\n        data = _yield$supabase$from$2.data,\n        error = _yield$supabase$from$2.error,\n        count = _yield$supabase$from$2.count;\n      if (error) throw error;\n      return {\n        data: data || [],\n        total: typeof count === 'number' ? count : data ? data.length : 0\n      };\n    } catch (err) {\n      console.warn('Supabase paged fetch failed', (err == null ? void 0 : err.message) || err);\n      return null;\n    }\n  });\n  return _fetchMythsPage.apply(this, arguments);\n}\nexport function testSupabaseConnection() {\n  return _testSupabaseConnection.apply(this, arguments);\n}\nfunction _testSupabaseConnection() {\n  _testSupabaseConnection = _asyncToGenerator(function* () {\n    try {\n      var _yield$supabase$from$3 = yield supabase.from('myths').select('id').limit(1),\n        data = _yield$supabase$from$3.data,\n        error = _yield$supabase$from$3.error;\n      if (error) {\n        console.warn('Supabase test query error:', error.message || error);\n        return false;\n      }\n      return Array.isArray(data);\n    } catch (err) {\n      console.warn('Supabase test failed:', (err == null ? void 0 : err.message) || err);\n      return false;\n    }\n  });\n  return _testSupabaseConnection.apply(this, arguments);\n}\nexport function fetchStories() {\n  return _fetchStories.apply(this, arguments);\n}\nfunction _fetchStories() {\n  _fetchStories = _asyncToGenerator(function* () {\n    try {\n      var _yield$supabase$from$4 = yield supabase.from('stories').select('*').order('id', {\n          ascending: true\n        }),\n        data = _yield$supabase$from$4.data,\n        error = _yield$supabase$from$4.error;\n      if (error) throw error;\n      return data;\n    } catch (err) {\n      console.warn('Supabase stories fetch failed', (err == null ? void 0 : err.message) || err);\n      return [];\n    }\n  });\n  return _fetchStories.apply(this, arguments);\n}\nexport function fetchStoriesPage() {\n  return _fetchStoriesPage.apply(this, arguments);\n}\nfunction _fetchStoriesPage() {\n  _fetchStoriesPage = _asyncToGenerator(function* () {\n    var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var pageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    var start = (page - 1) * pageSize;\n    var end = start + pageSize - 1;\n    try {\n      var _yield$supabase$from$5 = yield supabase.from('stories').select('*', {\n          count: 'exact'\n        }).order('id', {\n          ascending: true\n        }).range(start, end),\n        data = _yield$supabase$from$5.data,\n        error = _yield$supabase$from$5.error,\n        count = _yield$supabase$from$5.count;\n      if (error) throw error;\n      return {\n        data: data || [],\n        total: typeof count === 'number' ? count : data ? data.length : 0\n      };\n    } catch (err) {\n      console.warn('Supabase stories paged fetch failed', (err == null ? void 0 : err.message) || err);\n      return {\n        data: [],\n        total: 0\n      };\n    }\n  });\n  return _fetchStoriesPage.apply(this, arguments);\n}\nexport function uploadImageToStorage(_x) {\n  return _uploadImageToStorage.apply(this, arguments);\n}\nfunction _uploadImageToStorage() {\n  _uploadImageToStorage = _asyncToGenerator(function* (file) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$bucket = _ref.bucket,\n      bucket = _ref$bucket === void 0 ? 'images' : _ref$bucket,\n      _ref$pathPrefix = _ref.pathPrefix,\n      pathPrefix = _ref$pathPrefix === void 0 ? 'uploads' : _ref$pathPrefix;\n    try {\n      var fileName = pathPrefix + \"/\" + Date.now() + \"-\" + Math.random().toString(36).slice(2) + \".jpg\";\n      var _yield$supabase$stora = yield supabase.storage.from(bucket).upload(fileName, file, {\n          contentType: 'image/jpeg',\n          upsert: false\n        }),\n        data = _yield$supabase$stora.data,\n        error = _yield$supabase$stora.error;\n      if (error) throw error;\n      var _supabase$storage$fro = supabase.storage.from(bucket).getPublicUrl(data.path),\n        publicUrlData = _supabase$storage$fro.data;\n      return (publicUrlData == null ? void 0 : publicUrlData.publicUrl) || null;\n    } catch (err) {\n      console.warn('Supabase upload failed', (err == null ? void 0 : err.message) || err);\n      return null;\n    }\n  });\n  return _uploadImageToStorage.apply(this, arguments);\n}\nexport function fetchBackgrounds() {\n  return _fetchBackgrounds.apply(this, arguments);\n}\nfunction _fetchBackgrounds() {\n  _fetchBackgrounds = _asyncToGenerator(function* () {\n    try {\n      var _yield$supabase$from$6 = yield supabase.from('backgrounds').select('*'),\n        data = _yield$supabase$from$6.data,\n        error = _yield$supabase$from$6.error;\n      if (error) throw error;\n      return data || [];\n    } catch (err) {\n      console.warn('Supabase backgrounds fetch failed', (err == null ? void 0 : err.message) || err);\n      return [];\n    }\n  });\n  return _fetchBackgrounds.apply(this, arguments);\n}\nexport function fetchCharacters() {\n  return _fetchCharacters.apply(this, arguments);\n}\nfunction _fetchCharacters() {\n  _fetchCharacters = _asyncToGenerator(function* () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$search = _ref2.search,\n      search = _ref2$search === void 0 ? '' : _ref2$search,\n      _ref2$mythology = _ref2.mythology,\n      mythology = _ref2$mythology === void 0 ? '' : _ref2$mythology,\n      _ref2$page = _ref2.page,\n      page = _ref2$page === void 0 ? 1 : _ref2$page,\n      _ref2$pageSize = _ref2.pageSize,\n      pageSize = _ref2$pageSize === void 0 ? 10 : _ref2$pageSize;\n    var start = (page - 1) * pageSize;\n    var end = start + pageSize - 1;\n    try {\n      var query = supabase.from('characters').select('*', {\n        count: 'exact'\n      }).order('name', {\n        ascending: true\n      }).range(start, end);\n      if (search) query = query.ilike('name', \"%\" + search + \"%\");\n      if (mythology) query = query.eq('mythology', mythology);\n      var _yield$query = yield query,\n        data = _yield$query.data,\n        error = _yield$query.error,\n        count = _yield$query.count;\n      if (error) throw error;\n      return {\n        data: data || [],\n        total: typeof count === 'number' ? count : data ? data.length : 0\n      };\n    } catch (err) {\n      console.warn('Supabase characters fetch failed', (err == null ? void 0 : err.message) || err);\n      return {\n        data: [],\n        total: 0\n      };\n    }\n  });\n  return _fetchCharacters.apply(this, arguments);\n}\nexport function fetchCharactersPage() {\n  return _fetchCharactersPage.apply(this, arguments);\n}\nfunction _fetchCharactersPage() {\n  _fetchCharactersPage = _asyncToGenerator(function* () {\n    var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var pageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref3$search = _ref3.search,\n      search = _ref3$search === void 0 ? '' : _ref3$search,\n      _ref3$mythology = _ref3.mythology,\n      mythology = _ref3$mythology === void 0 ? '' : _ref3$mythology;\n    return fetchCharacters({\n      page: page,\n      pageSize: pageSize,\n      search: search,\n      mythology: mythology\n    });\n  });\n  return _fetchCharactersPage.apply(this, arguments);\n}","map":{"version":3,"names":["createClient","SUPABASE_URL","process","env","SUPABASE_ANON_KEY","Constants","require","default","extra","manifest","expoConfig","e","supabase","fetchMyths","_fetchMyths","apply","arguments","_asyncToGenerator","_yield$supabase$from$","from","select","order","ascending","data","error","err","console","warn","message","fetchMythsPage","_fetchMythsPage","page","length","undefined","pageSize","start","end","_yield$supabase$from$2","count","range","total","testSupabaseConnection","_testSupabaseConnection","_yield$supabase$from$3","limit","Array","isArray","fetchStories","_fetchStories","_yield$supabase$from$4","fetchStoriesPage","_fetchStoriesPage","_yield$supabase$from$5","uploadImageToStorage","_x","_uploadImageToStorage","file","_ref","_ref$bucket","bucket","_ref$pathPrefix","pathPrefix","fileName","Date","now","Math","random","toString","slice","_yield$supabase$stora","storage","upload","contentType","upsert","_supabase$storage$fro","getPublicUrl","path","publicUrlData","publicUrl","fetchBackgrounds","_fetchBackgrounds","_yield$supabase$from$6","fetchCharacters","_fetchCharacters","_ref2","_ref2$search","search","_ref2$mythology","mythology","_ref2$page","_ref2$pageSize","query","ilike","eq","_yield$query","fetchCharactersPage","_fetchCharactersPage","_ref3","_ref3$search","_ref3$mythology"],"sources":["C:/SoftEng/VScode/Javascript/TA/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\n// Determine Supabase credentials from multiple sources so the project works\r\n// both in a plain Node environment and in Expo (via app.json `expo.extra`).\r\nlet SUPABASE_URL = process.env.SUPABASE_URL;\r\nlet SUPABASE_ANON_KEY = process.env.SUPABASE_ANON_KEY;\r\n\r\n// If running inside Expo, read values from Constants.manifest.extra when available.\r\ntry {\r\n  // require here so file can still run in non-Expo environments\r\n  // (Metro will provide expo-constants in Expo projects).\r\n  // eslint-disable-next-line global-require\r\n  const Constants = require('expo-constants').default;\r\n  const extra = (Constants.manifest && Constants.manifest.extra) || (Constants.expoConfig && Constants.expoConfig.extra);\r\n  if (extra) {\r\n    SUPABASE_URL = SUPABASE_URL || extra.SUPABASE_URL;\r\n    SUPABASE_ANON_KEY = SUPABASE_ANON_KEY || extra.SUPABASE_ANON_KEY;\r\n  }\r\n} catch (e) {\r\n  // Not running under Expo or expo-constants not installed â€” ignore.\r\n}\r\n\r\n// Fallback placeholders (do NOT commit real keys to the repo)\r\nSUPABASE_URL = SUPABASE_URL || 'https://your-project.supabase.co';\r\nSUPABASE_ANON_KEY = SUPABASE_ANON_KEY || 'PUBLIC_ANON_KEY';\r\n\r\nexport const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);\r\n\r\nexport async function fetchMyths() {\r\n  try {\r\n    const { data, error } = await supabase.from('myths').select('*').order('id', { ascending: true });\r\n    if (error) throw error;\r\n    return data;\r\n  } catch (err) {\r\n    console.warn('Supabase fetch failed, falling back to local seed', err?.message || err);\r\n    return null;\r\n  }\r\n}\r\n\r\n// Fetch a page of myths from Supabase using range and request exact count.\r\n// Returns { data: [...], total: number } on success, or null on failure.\r\nexport async function fetchMythsPage(page = 1, pageSize = 10) {\r\n  const start = (page - 1) * pageSize;\r\n  const end = start + pageSize - 1;\r\n  try {\r\n    const { data, error, count } = await supabase\r\n      .from('myths')\r\n      .select('*', { count: 'exact' })\r\n      .order('id', { ascending: true })\r\n      .range(start, end);\r\n    if (error) throw error;\r\n    return { data: data || [], total: typeof count === 'number' ? count : (data ? data.length : 0) };\r\n  } catch (err) {\r\n    console.warn('Supabase paged fetch failed', err?.message || err);\r\n    return null;\r\n  }\r\n}\r\n\r\n// Optional helper to test the Supabase connection; returns true when successful.\r\nexport async function testSupabaseConnection() {\r\n  try {\r\n    const { data, error } = await supabase.from('myths').select('id').limit(1);\r\n    if (error) {\r\n      console.warn('Supabase test query error:', error.message || error);\r\n      return false;\r\n    }\r\n    return Array.isArray(data);\r\n  } catch (err) {\r\n    console.warn('Supabase test failed:', err?.message || err);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Stories API\r\nexport async function fetchStories() {\r\n  try {\r\n    const { data, error } = await supabase.from('stories').select('*').order('id', { ascending: true });\r\n    if (error) throw error;\r\n    return data;\r\n  } catch (err) {\r\n    console.warn('Supabase stories fetch failed', err?.message || err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function fetchStoriesPage(page = 1, pageSize = 10) {\r\n  const start = (page - 1) * pageSize;\r\n  const end = start + pageSize - 1;\r\n  try {\r\n    const { data, error, count } = await supabase\r\n      .from('stories')\r\n      .select('*', { count: 'exact' })\r\n      .order('id', { ascending: true })\r\n      .range(start, end);\r\n    if (error) throw error;\r\n    return { data: data || [], total: typeof count === 'number' ? count : (data ? data.length : 0) };\r\n  } catch (err) {\r\n    console.warn('Supabase stories paged fetch failed', err?.message || err);\r\n    return { data: [], total: 0 };\r\n  }\r\n}\r\n\r\n// Upload an image to Supabase Storage and return a public URL\r\nexport async function uploadImageToStorage(file, { bucket = 'images', pathPrefix = 'uploads' } = {}) {\r\n  try {\r\n    const fileName = `${pathPrefix}/${Date.now()}-${Math.random().toString(36).slice(2)}.jpg`;\r\n    const { data, error } = await supabase.storage.from(bucket).upload(fileName, file, { contentType: 'image/jpeg', upsert: false });\r\n    if (error) throw error;\r\n    const { data: publicUrlData } = supabase.storage.from(bucket).getPublicUrl(data.path);\r\n    return publicUrlData?.publicUrl || null;\r\n  } catch (err) {\r\n    console.warn('Supabase upload failed', err?.message || err);\r\n    return null;\r\n  }\r\n}\r\n\r\n// Backgrounds API: table `backgrounds` with columns (mythology text primary, image_url text)\r\nexport async function fetchBackgrounds() {\r\n  try {\r\n    const { data, error } = await supabase.from('backgrounds').select('*');\r\n    if (error) throw error;\r\n    return data || [];\r\n  } catch (err) {\r\n    console.warn('Supabase backgrounds fetch failed', err?.message || err);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Characters API\r\nexport async function fetchCharacters({ search = '', mythology = '', page = 1, pageSize = 10 } = {}) {\r\n  const start = (page - 1) * pageSize;\r\n  const end = start + pageSize - 1;\r\n  try {\r\n    let query = supabase\r\n      .from('characters')\r\n      .select('*', { count: 'exact' })\r\n      .order('name', { ascending: true })\r\n      .range(start, end);\r\n\r\n    if (search) query = query.ilike('name', `%${search}%`);\r\n    if (mythology) query = query.eq('mythology', mythology);\r\n\r\n    const { data, error, count } = await query;\r\n    if (error) throw error;\r\n    return { data: data || [], total: typeof count === 'number' ? count : (data ? data.length : 0) };\r\n  } catch (err) {\r\n    console.warn('Supabase characters fetch failed', err?.message || err);\r\n    return { data: [], total: 0 };\r\n  }\r\n}\r\n\r\nexport async function fetchCharactersPage(page = 1, pageSize = 10, { search = '', mythology = '' } = {}) {\r\n  return fetchCharacters({ page, pageSize, search, mythology });\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}