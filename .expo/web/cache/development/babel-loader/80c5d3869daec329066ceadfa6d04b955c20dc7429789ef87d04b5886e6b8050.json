{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState, useMemo } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { fetchMyths } from \"../supabase\";\nimport { LOCAL_SEED, MYTHOLOGIES } from \"../data/seed\";\nimport SearchBar from \"../components/SearchBar\";\nimport MythCard from \"../components/MythCard\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    myths = _useState2[0],\n    setMyths = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    query = _useState4[0],\n    setQuery = _useState4[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var data = yield fetchMyths();\n      if (data && data.length) setMyths(data);else setMyths(LOCAL_SEED);\n    })();\n  }, []);\n  var filtered = useMemo(function () {\n    var q = (query || '').trim().toLowerCase();\n    if (!q) return [];\n    return myths.filter(function (m) {\n      var name = (m.name || '').toLowerCase();\n      var tags = (m.tags || '').toLowerCase();\n      var short = (m.short_desc || '').toLowerCase();\n      return name.includes(q) || tags.includes(q) || short.includes(q);\n    });\n  }, [myths, query]);\n  var renderItem = function renderItem(_ref3) {\n    var item = _ref3.item;\n    return _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Collections', {\n          screen: 'MythList',\n          params: {\n            mythology: item\n          }\n        });\n      },\n      style: styles.item,\n      children: _jsx(Text, {\n        style: styles.itemText,\n        children: item\n      })\n    });\n  };\n  var renderResult = function renderResult(_ref4) {\n    var item = _ref4.item;\n    return _jsx(View, {\n      style: {\n        marginBottom: 8\n      },\n      children: _jsx(MythCard, {\n        item: item,\n        onPress: function onPress() {\n          return navigation.navigate('Collections', {\n            screen: 'MythDetail',\n            params: item\n          });\n        }\n      })\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Lorebrary\"\n    }), _jsx(Text, {\n      style: styles.subtitle,\n      children: \"Katalog tokoh mitos dunia\"\n    }), _jsx(SearchBar, {\n      value: query,\n      onChange: setQuery,\n      placeholder: \"Search by name, tag, or description...\"\n    }), query ? _jsxs(View, {\n      style: {\n        flex: 1\n      },\n      children: [_jsx(Text, {\n        style: styles.section,\n        children: \"Search results\"\n      }), filtered.length === 0 ? _jsx(Text, {\n        style: {\n          color: '#888',\n          marginTop: 8\n        },\n        children: \"No results.\"\n      }) : _jsx(FlatList, {\n        data: filtered,\n        keyExtractor: function keyExtractor(i) {\n          return String(i.id);\n        },\n        renderItem: renderResult\n      })]\n    }) : _jsxs(_Fragment, {\n      children: [_jsx(Text, {\n        style: styles.section,\n        children: \"Mythology Collections\"\n      }), _jsx(FlatList, {\n        data: MYTHOLOGIES,\n        keyExtractor: function keyExtractor(i) {\n          return i;\n        },\n        renderItem: renderItem\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#0b0b0b'\n  },\n  title: {\n    color: '#ffd166',\n    fontSize: 28,\n    fontWeight: '700',\n    marginBottom: 4\n  },\n  subtitle: {\n    color: '#ccc',\n    marginBottom: 12\n  },\n  section: {\n    color: '#fff',\n    marginTop: 12,\n    marginBottom: 6,\n    fontSize: 18\n  },\n  item: {\n    padding: 12,\n    backgroundColor: '#151515',\n    marginVertical: 6,\n    borderRadius: 8\n  },\n  itemText: {\n    color: '#fff',\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useMemo","View","Text","StyleSheet","FlatList","TouchableOpacity","fetchMyths","LOCAL_SEED","MYTHOLOGIES","SearchBar","MythCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HomeScreen","_ref","navigation","_useState","_useState2","_slicedToArray","myths","setMyths","_useState3","_useState4","query","setQuery","_asyncToGenerator","data","length","filtered","q","trim","toLowerCase","filter","m","name","tags","short","short_desc","includes","renderItem","_ref3","item","onPress","navigate","screen","params","mythology","style","styles","children","itemText","renderResult","_ref4","marginBottom","container","title","subtitle","value","onChange","placeholder","flex","section","color","marginTop","keyExtractor","i","String","id","create","padding","backgroundColor","fontSize","fontWeight","marginVertical","borderRadius"],"sources":["C:/SoftEng/VScode/Javascript/TA/screens/HomeScreen.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\r\nimport { View, Text, StyleSheet, FlatList, TouchableOpacity } from 'react-native';\r\nimport { fetchMyths } from '../supabase';\r\nimport { LOCAL_SEED, MYTHOLOGIES } from '../data/seed';\r\nimport SearchBar from '../components/SearchBar';\r\nimport MythCard from '../components/MythCard';\r\n\r\nexport default function HomeScreen({ navigation }) {\r\n  const [myths, setMyths] = useState([]);\r\n  const [query, setQuery] = useState('');\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const data = await fetchMyths();\r\n      if (data && data.length) setMyths(data);\r\n      else setMyths(LOCAL_SEED);\r\n    })();\r\n  }, []);\r\n\r\n  const filtered = useMemo(() => {\r\n    const q = (query || '').trim().toLowerCase();\r\n    if (!q) return [];\r\n    return myths.filter(m => {\r\n      const name = (m.name || '').toLowerCase();\r\n      const tags = (m.tags || '').toLowerCase();\r\n      const short = (m.short_desc || '').toLowerCase();\r\n      return name.includes(q) || tags.includes(q) || short.includes(q);\r\n    });\r\n  }, [myths, query]);\r\n\r\n  const renderItem = ({ item }) => (\r\n    <TouchableOpacity onPress={() => navigation.navigate('Collections', { screen: 'MythList', params: { mythology: item } })} style={styles.item}>\r\n      <Text style={styles.itemText}>{item}</Text>\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  const renderResult = ({ item }) => (\r\n    <View style={{ marginBottom: 8 }}>\r\n      <MythCard item={item} onPress={() => navigation.navigate('Collections', { screen: 'MythDetail', params: item })} />\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Lorebrary</Text>\r\n      <Text style={styles.subtitle}>Katalog tokoh mitos dunia</Text>\r\n\r\n      <SearchBar value={query} onChange={setQuery} placeholder=\"Search by name, tag, or description...\" />\r\n\r\n      {query ? (\r\n        <View style={{ flex: 1 }}>\r\n          <Text style={styles.section}>Search results</Text>\r\n          {filtered.length === 0 ? (\r\n            <Text style={{ color: '#888', marginTop: 8 }}>No results.</Text>\r\n          ) : (\r\n            <FlatList data={filtered} keyExtractor={(i) => String(i.id)} renderItem={renderResult} />\r\n          )}\r\n        </View>\r\n      ) : (\r\n        <>\r\n          <Text style={styles.section}>Mythology Collections</Text>\r\n          <FlatList data={MYTHOLOGIES} keyExtractor={(i) => i} renderItem={renderItem} />\r\n        </>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, padding: 16, backgroundColor: '#0b0b0b' },\r\n  title: { color: '#ffd166', fontSize: 28, fontWeight: '700', marginBottom: 4 },\r\n  subtitle: { color: '#ccc', marginBottom: 12 },\r\n  section: { color: '#fff', marginTop: 12, marginBottom: 6, fontSize: 18 },\r\n  item: { padding: 12, backgroundColor: '#151515', marginVertical: 6, borderRadius: 8 },\r\n  itemText: { color: '#fff', fontSize: 16 }\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}