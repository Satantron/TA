{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { fetchBackgrounds } from \"../supabase\";\nvar cache = null;\nvar map = {};\nexport function ensureBackgrounds() {\n  return _ensureBackgrounds.apply(this, arguments);\n}\nfunction _ensureBackgrounds() {\n  _ensureBackgrounds = _asyncToGenerator(function* () {\n    if (cache) return map;\n    var rows = yield fetchBackgrounds();\n    map = {};\n    rows.forEach(function (r) {\n      if (r && r.mythology && r.image_url) map[r.mythology] = r.image_url;\n    });\n    cache = true;\n    return map;\n  });\n  return _ensureBackgrounds.apply(this, arguments);\n}\nexport function getBackgroundFor(_x) {\n  return _getBackgroundFor.apply(this, arguments);\n}\nfunction _getBackgroundFor() {\n  _getBackgroundFor = _asyncToGenerator(function* (mythology) {\n    var m = yield ensureBackgrounds();\n    return m[mythology] || null;\n  });\n  return _getBackgroundFor.apply(this, arguments);\n}","map":{"version":3,"names":["fetchBackgrounds","cache","map","ensureBackgrounds","_ensureBackgrounds","apply","arguments","_asyncToGenerator","rows","forEach","r","mythology","image_url","getBackgroundFor","_x","_getBackgroundFor","m"],"sources":["C:/SoftEng/VScode/Javascript/TA/utils/backgrounds.js"],"sourcesContent":["import { fetchBackgrounds } from '../supabase';\r\n\r\nlet cache = null;\r\nlet map = {};\r\n\r\nexport async function ensureBackgrounds() {\r\n  if (cache) return map;\r\n  const rows = await fetchBackgrounds();\r\n  map = {};\r\n  rows.forEach(r => {\r\n    if (r && r.mythology && r.image_url) map[r.mythology] = r.image_url;\r\n  });\r\n  cache = true;\r\n  return map;\r\n}\r\n\r\nexport async function getBackgroundFor(mythology) {\r\n  const m = await ensureBackgrounds();\r\n  return m[mythology] || null;\r\n}\r\n"],"mappings":";AAAA,SAASA,gBAAgB;AAEzB,IAAIC,KAAK,GAAG,IAAI;AAChB,IAAIC,GAAG,GAAG,CAAC,CAAC;AAEZ,gBAAsBC,iBAAiBA,CAAA;EAAA,OAAAC,kBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAStC,SAAAF,mBAAA;EAAAA,kBAAA,GAAAG,iBAAA,CATM,aAAmC;IACxC,IAAIN,KAAK,EAAE,OAAOC,GAAG;IACrB,IAAMM,IAAI,SAASR,gBAAgB,CAAC,CAAC;IACrCE,GAAG,GAAG,CAAC,CAAC;IACRM,IAAI,CAACC,OAAO,CAAC,UAAAC,CAAC,EAAI;MAChB,IAAIA,CAAC,IAAIA,CAAC,CAACC,SAAS,IAAID,CAAC,CAACE,SAAS,EAAEV,GAAG,CAACQ,CAAC,CAACC,SAAS,CAAC,GAAGD,CAAC,CAACE,SAAS;IACrE,CAAC,CAAC;IACFX,KAAK,GAAG,IAAI;IACZ,OAAOC,GAAG;EACZ,CAAC;EAAA,OAAAE,kBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBO,gBAAgBA,CAAAC,EAAA;EAAA,OAAAC,iBAAA,CAAAV,KAAA,OAAAC,SAAA;AAAA;AAGrC,SAAAS,kBAAA;EAAAA,iBAAA,GAAAR,iBAAA,CAHM,WAAgCI,SAAS,EAAE;IAChD,IAAMK,CAAC,SAASb,iBAAiB,CAAC,CAAC;IACnC,OAAOa,CAAC,CAACL,SAAS,CAAC,IAAI,IAAI;EAC7B,CAAC;EAAA,OAAAI,iBAAA,CAAAV,KAAA,OAAAC,SAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}