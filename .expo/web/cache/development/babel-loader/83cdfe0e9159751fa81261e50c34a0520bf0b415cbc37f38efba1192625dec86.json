{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport MythCard from \"../components/MythCard\";\nimport { useBookmarks } from \"../context/BookmarksContext\";\nimport usePagination from \"../utils/usePagination\";\nimport PaginationControls from \"../components/PaginationControls\";\nimport BackButton from \"../components/BackButton\";\nimport useWebBack from \"../utils/useWebBack\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function BookmarksScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useBookmarks = useBookmarks(),\n    bookmarks = _useBookmarks.bookmarks,\n    removeBookmark = _useBookmarks.removeBookmark,\n    clearAll = _useBookmarks.clearAll,\n    markSeen = _useBookmarks.markSeen;\n  function openDetail(item) {\n    if (typeof markSeen === 'function') markSeen(item.id);\n    navigation.navigate('Collections', {\n      screen: 'MythDetail',\n      params: _objectSpread({}, item)\n    });\n  }\n  function confirmRemove(id) {\n    if (Platform.OS === 'web' && typeof window !== 'undefined') {\n      if (window.confirm('Remove this item from bookmarks?')) removeBookmark(id);\n      return;\n    }\n    Alert.alert('Remove bookmark', 'Remove this item from bookmarks?', [{\n      text: 'Cancel',\n      style: 'cancel'\n    }, {\n      text: 'Remove',\n      style: 'destructive',\n      onPress: function onPress() {\n        return removeBookmark(id);\n      }\n    }]);\n  }\n  function confirmClearAll() {\n    if (Platform.OS === 'web' && typeof window !== 'undefined') {\n      if (window.confirm('Remove all bookmarks?')) clearAll();\n      return;\n    }\n    Alert.alert('Clear bookmarks', 'Remove all bookmarks?', [{\n      text: 'Cancel',\n      style: 'cancel'\n    }, {\n      text: 'Clear',\n      style: 'destructive',\n      onPress: function onPress() {\n        return clearAll();\n      }\n    }]);\n  }\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(View, {\n      style: styles.itemWrap,\n      children: [_jsx(MythCard, {\n        item: item,\n        onPress: function onPress() {\n          return openDetail(item);\n        },\n        onLongPress: function onLongPress() {\n          return confirmRemove(item.id);\n        },\n        unread: !!item.unread\n      }), _jsx(View, {\n        style: styles.actionsRow,\n        children: _jsx(TouchableOpacity, {\n          style: styles.removeBtn,\n          onPress: function onPress() {\n            return confirmRemove(item.id);\n          },\n          children: _jsx(Text, {\n            style: styles.removeText,\n            children: \"Remove\"\n          })\n        })\n      })]\n    });\n  };\n  var pager = usePagination({\n    items: bookmarks,\n    initialPageSize: 6\n  });\n  if (Platform.OS === 'web') useWebBack(navigation);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(BackButton, {}), _jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Bookmarks\"\n      }), bookmarks.length > 0 && _jsx(TouchableOpacity, {\n        onPress: confirmClearAll,\n        style: styles.clearBtn,\n        children: _jsx(Text, {\n          style: styles.clearText,\n          children: \"Clear all\"\n        })\n      })]\n    }), bookmarks.length === 0 ? _jsx(View, {\n      style: styles.empty,\n      children: _jsx(Text, {\n        style: styles.emptyText,\n        children: \"No bookmarks yet. Long-press an item to save it.\"\n      })\n    }) : _jsxs(_Fragment, {\n      children: [_jsx(FlatList, {\n        data: pager.pageData,\n        keyExtractor: function keyExtractor(item) {\n          return String(item.id);\n        },\n        renderItem: renderItem,\n        contentContainerStyle: {\n          paddingBottom: 24\n        }\n      }), _jsx(PaginationControls, {\n        page: pager.page,\n        setPage: pager.setPage,\n        totalPages: pager.totalPages\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 12,\n    backgroundColor: '#070707'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8\n  },\n  title: {\n    color: '#fff',\n    fontSize: 20,\n    fontWeight: '700'\n  },\n  clearBtn: {\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    backgroundColor: '#2b2b2b',\n    borderRadius: 8\n  },\n  clearText: {\n    color: '#f88'\n  },\n  empty: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  emptyText: {\n    color: '#888',\n    textAlign: 'center',\n    paddingHorizontal: 20\n  },\n  itemWrap: {\n    marginBottom: 10\n  },\n  actionsRow: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8\n  },\n  removeBtn: {\n    backgroundColor: '#2b2b2b',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 8\n  },\n  removeText: {\n    color: '#f88',\n    fontWeight: '700'\n  }\n});","map":{"version":3,"names":["React","View","Text","StyleSheet","FlatList","Alert","TouchableOpacity","Platform","MythCard","useBookmarks","usePagination","PaginationControls","BackButton","useWebBack","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookmarksScreen","_ref","navigation","_useBookmarks","bookmarks","removeBookmark","clearAll","markSeen","openDetail","item","id","navigate","screen","params","_objectSpread","confirmRemove","OS","window","confirm","alert","text","style","onPress","confirmClearAll","renderItem","_ref2","styles","itemWrap","children","onLongPress","unread","actionsRow","removeBtn","removeText","pager","items","initialPageSize","container","header","title","length","clearBtn","clearText","empty","emptyText","data","pageData","keyExtractor","String","contentContainerStyle","paddingBottom","page","setPage","totalPages","create","flex","padding","backgroundColor","flexDirection","justifyContent","alignItems","marginBottom","color","fontSize","fontWeight","paddingHorizontal","paddingVertical","borderRadius","textAlign","marginTop"],"sources":["C:/SoftEng/VScode/Javascript/TA/screens/BookmarksScreen.js"],"sourcesContent":["import React from 'react';\r\nimport { View, Text, StyleSheet, FlatList, Alert, TouchableOpacity, Platform } from 'react-native';\r\nimport MythCard from '../components/MythCard';\r\nimport { useBookmarks } from '../context/BookmarksContext';\r\nimport usePagination from '../utils/usePagination';\r\nimport PaginationControls from '../components/PaginationControls';\r\nimport BackButton from '../components/BackButton';\r\nimport useWebBack from '../utils/useWebBack';\r\n\r\nexport default function BookmarksScreen({ navigation }) {\r\n  const { bookmarks, removeBookmark, clearAll, markSeen } = useBookmarks();\r\n\r\n  function openDetail(item) {\r\n    // mark this item seen since user opened it from bookmarks\r\n    if (typeof markSeen === 'function') markSeen(item.id);\r\n    navigation.navigate('Collections', { screen: 'MythDetail', params: { ...item } });\r\n  }\r\n\r\n  function confirmRemove(id) {\r\n    if (Platform.OS === 'web' && typeof window !== 'undefined') {\r\n      if (window.confirm('Remove this item from bookmarks?')) removeBookmark(id);\r\n      return;\r\n    }\r\n\r\n    Alert.alert('Remove bookmark', 'Remove this item from bookmarks?', [\r\n      { text: 'Cancel', style: 'cancel' },\r\n      { text: 'Remove', style: 'destructive', onPress: () => removeBookmark(id) }\r\n    ]);\r\n  }\r\n\r\n  function confirmClearAll() {\r\n    if (Platform.OS === 'web' && typeof window !== 'undefined') {\r\n      if (window.confirm('Remove all bookmarks?')) clearAll();\r\n      return;\r\n    }\r\n\r\n    Alert.alert('Clear bookmarks', 'Remove all bookmarks?', [\r\n      { text: 'Cancel', style: 'cancel' },\r\n      { text: 'Clear', style: 'destructive', onPress: () => clearAll() }\r\n    ]);\r\n  }\r\n\r\n  // Note: we intentionally do NOT mark all seen on screen focus.\r\n  // Items are marked seen individually via `markSeen` when opened.\r\n\r\n  const renderItem = ({ item }) => (\r\n    <View style={styles.itemWrap}>\r\n      <MythCard\r\n        item={item}\r\n        onPress={() => openDetail(item)}\r\n        onLongPress={() => confirmRemove(item.id)}\r\n        unread={!!item.unread}\r\n      />\r\n      <View style={styles.actionsRow}>\r\n        <TouchableOpacity style={styles.removeBtn} onPress={() => confirmRemove(item.id)}>\r\n          <Text style={styles.removeText}>Remove</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n  const pager = usePagination({ items: bookmarks, initialPageSize: 6 });\r\n\r\n  if (Platform.OS === 'web') useWebBack(navigation);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <BackButton />\r\n      <View style={styles.header}>\r\n        <Text style={styles.title}>Bookmarks</Text>\r\n        {bookmarks.length > 0 && (\r\n          <TouchableOpacity onPress={confirmClearAll} style={styles.clearBtn}>\r\n            <Text style={styles.clearText}>Clear all</Text>\r\n          </TouchableOpacity>\r\n        )}\r\n      </View>\r\n\r\n      {bookmarks.length === 0 ? (\r\n        <View style={styles.empty}><Text style={styles.emptyText}>No bookmarks yet. Long-press an item to save it.</Text></View>\r\n      ) : (\r\n        <>\r\n          <FlatList\r\n            data={pager.pageData}\r\n            keyExtractor={item => String(item.id)}\r\n            renderItem={renderItem}\r\n            contentContainerStyle={{ paddingBottom: 24 }}\r\n          />\r\n          <PaginationControls page={pager.page} setPage={pager.setPage} totalPages={pager.totalPages} />\r\n        </>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, padding: 12, backgroundColor: '#070707' },\r\n  header: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: 8 },\r\n  title: { color: '#fff', fontSize: 20, fontWeight: '700' },\r\n  clearBtn: { paddingHorizontal: 10, paddingVertical: 6, backgroundColor: '#2b2b2b', borderRadius: 8 },\r\n  clearText: { color: '#f88' },\r\n  empty: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n  emptyText: { color: '#888', textAlign: 'center', paddingHorizontal: 20 },\r\n  itemWrap: { marginBottom: 10 },\r\n  actionsRow: { flexDirection: 'row', justifyContent: 'flex-end', marginTop: 8 },\r\n  removeBtn: { backgroundColor: '#2b2b2b', paddingHorizontal: 12, paddingVertical: 6, borderRadius: 8 },\r\n  removeText: { color: '#f88', fontWeight: '700' }\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}